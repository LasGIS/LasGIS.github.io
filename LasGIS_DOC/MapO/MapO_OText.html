<html>

<head>
  <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
  <link rel="stylesheet" type="text/css" href="../images/default.css">
  <title>“ело графического объекта типа надпись (OText)</title>
</head>

<body>

<h2>1.6.“ело графического объекта типа надпись (OText)</h2>

<table cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top"><img src="../images/forefinger.jpg" width="16" height="16"></td>
    <td><p class="Prog">class <span class="ProgTerm">OText</span> : public <a href="MapO_Object.html">MapObject</a> {<br>
      &nbsp;&nbsp; char * <span class="ProgTerm">Text</span>;&nbsp; <span class="ProgComment">// строка текста</span><br>
      &nbsp;&nbsp; long <span class="ProgTerm">Height</span>;&nbsp; <span class="ProgComment">// высота шрифта в см. местности</span><br>
      &nbsp;&nbsp; <a href="#MapO_eFont">eFont</a> * <span class="ProgTerm">Font</span>;&nbsp;
      <span class="ProgComment">// описание шрифта</span><br>
      &nbsp;&nbsp; <a href="MapO_eLine.html">eLine</a> * <span class="ProgTerm">ELine</span>;
      <span class="ProgComment">// элементарна€ лини€, определ€юща€ начало и
    направление вывода текста</span><br>
      }; <span class="ProgComment">// размер структуры 40+8=48 байт</span></p>
    </td>
  </tr>
</table>

<p>√рафический объект типа надпись может быть
двух типов:</p>

<p>1 Ц надпись как самосто€тельный графический
объект,</p>

<p>2 Ц надпись, принадлежаща€ к некоторому типу
графического объекта (например, принадлежит к 15-ой линии).</p>

<p>¬ первом случае в заголовке объекта (см. <a
href="MapO_Object.html">MapObject</a>) параметр <span class="Refer">&lt;Type&gt;</span>
содержит значение У4Ф, а параметр <span class="Refer">&lt;TextFlag&gt;</span>
при работе не учитываетс€. ¬ этом случае
настройки шрифта хран€тс€ в настройках
типо-объекта УЌадписьФ (как надпись 16-€).</p>

<p>¬о втором случае параметр <span class="Refer">&lt;Type&gt;</span> и параметр
<span class="Refer">&lt;TypeNum&gt;</span> содержит значение скрепленного
типо-объекта (например, плоскость 17-€), а параметр
<span class="Refer">&lt;Text Flag&gt;</span> содержит значение У<strong><u>TRUE</u></strong>Ф. ¬ этом
случае настройки шрифта хран€тс€ в настройках
скрепленного типо-объекта.</p>

<p>¬ любом случае настройки могут быть
прикреплены к данному объекту. “огда они
записываютс€ вместе с объектом и хран€тс€ в
параметре <span class="Refer">&lt;Font&gt;</span>. ≈сли параметр <span class="Refer">&lt;Font&gt;</span>
содержит значение У<strong><u>NULL</u></strong>Ф это значит, что
настройки необходимо брать в настройках
типо-объекта, иначе необходимо пользоватьс€
настройками из параметра <span class="Refer">&lt;Font&gt;</span>.</p>

<p>ѕараметр <span class="Refer">&lt;Text&gt;</span> содержит текст в <strong>RichText</strong> формате.
—имвол У0x00Ф означает окончание текста, два
символа У0x0D 0x0AФ - перевод строки. ¬ <strong>RichText</strong> формате
можно также задавать размер, формат и цвет
шрифта.</p>

<p>ѕараметр <span class="Refer">&lt;Height&gt;</span> содержит высоту шрифта в
сантиметрах местности. ѕри выводе высота
пересчитываетс€ в соответствии с масштабом
вывода.</p>

<p>Ёлементарна€ лини€ <span class="Refer">&lt;ELine&gt;</span> определ€ет
позицию надписи на карте. ≈сли лини€ состоит из
одной точки, то начало надписи будет находитьс€ в
этой точке. ≈сли у линии Ц две точки, то втора€
задает направление вывода. ≈сли лини€ состоит из
трех точек, то надпись будет располагатьс€ по
окружности, образованной этими трем€ точками. ¬
случае же большего числа точек, надпись будет
располагатьс€ на полученном полигоне. </p>

<p class="Remark">—мотри также:</p>

<p class="Notice"><a href="MapO_Object.html">ќбщий заголовок графического
объекта <strong>(MapObject)</strong></a></p>

<p class="Notice"><a href="MapO_eLine.html">‘ормат элементарной линии (<strong>eLine</strong>)</a></p>

<p class="Notice"><a href="MapO_ePoint.html">‘ормат элементарной точки (<strong>ePoint</strong>)</a></p>

<h3><strong>1.6.1 <a name="MapO_eFont">‘ормат описани€ Ў–»‘“ј</a></strong></h3>

<table cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top"><img src="../images/forefinger.jpg" width="16" height="16"></td>
    <td><p class="Prog">struct <span class="ProgTerm">eFont</span> {<br>
      &nbsp;&nbsp; char * <span class="ProgTerm">Name</span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span class="ProgComment">// название шрифта (Areal; Courier)</span><br>
      &nbsp;&nbsp; COLORREF <span class="ProgTerm">TextColor; </span><span class="ProgComment">// цвет текста</span><br>
      &nbsp;&nbsp; COLORREF <span class="ProgTerm">BkColor;&nbsp;&nbsp; </span><span class="ProgComment">// цвет фона</span><br>
      &nbsp;&nbsp; UINT <span class="ProgTerm">Bold</span>:1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span class="ProgComment">// если УTRUEФ - толстый шрифт</span><br>
      &nbsp;&nbsp; UINT <span class="ProgTerm">Italic</span>:1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span class="ProgComment">// если УTRUEФ - наклонный шрифт</span><br>
      &nbsp;&nbsp; UINT <span class="ProgTerm">Underline</span>:1;&nbsp;&nbsp; 
      <span class="ProgComment">// если УTRUEФ - шрифт с подчеркиванием</span><br>
      &nbsp;&nbsp; UINT <span class="ProgTerm">NoBK</span>:1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <span class="ProgComment">// если УTRUEФ - текст выводитс€ без фона</span><br>
      }</p></td>
  </tr>
</table>
</body>
</html>
